<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8'>
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <title> Euphony for ES6 demo </title>
        <script type='module'>
            import { Euphony } from "https://cdn.jsdelivr.net/gh/euphony-io/euphony.js/dist/euphony.m.min.js";
            var euphy = new Euphony();
            var btnSwt = false;

            window.generateSoundData = function () {
                if (btnSwt) {
                    euphy.stop();
                    document.getElementById("euphy_btn").value = "broadcast";
                    btnSwt = false;
                    console.log("STOP!");
                }
                else {
                    var code = document.getElementById("euphy_text");
                    euphy.setCode(code.value);
                    euphy.play();
                    document.getElementById("euphy_btn").value = "stop";
                    btnSwt = true;
                    console.log("PLAY!");
                }
            }

            let desc = window.document.getElementById("desc");
            if (!euphy.isAudioWorkletAvailable) {
                desc.innerHTML += "AudioWorklet is not supported.<br/>";
            }
        </script>
    </head>
    <body>
        <center>
            <h1>
                Hi, this is the Euphony's ES6 demo project.
            </h1>
            <p>
                <input id='euphy_text' class='demo_text_edit' type='text' value='hello, euphony' /> 
                <input id='euphy_btn' class='demo_btn' type='button' value='broadcast' onclick='generateSoundData()' />
            </p>
            <div id='desc'>
                <strong>Description</strong><br />
            </div>
        </center>
    </body>
</html>